<!DOCTYPE>
<html>
    <head>
        <meta charset='utf-8'>
        <script src="esl.js"></script>
        <script src="config.js"></script>
        <script src="lib/jquery.min.js"></script>
    </head>
    <body>
        <style>
            html, body, #main {s
                width: 100%;
                height: 100%;
            }
        </style>
        <div id="main"></div>
        <script>

            require([
                'echarts',
                'echarts-stat/regression',
                'echarts/chart/scatter',
                'echarts/chart/line',
                'echarts/component/legend',
                'echarts/component/grid',
                'echarts/component/tooltip'
            ], function (echarts, regression) {

                var chart = echarts.init(document.getElementById('main'));

                $.getJSON('./data/regression_test.json')
                .done(function (data) {

                    var myRegression = regression('exponential', data);

                    myRegression.points.sort(function (a, b) {
                        return a[0] - b[0];
                    });

                    chart.setOption({
                        legend: {
                            data: ['scatter', 'line']
                        },
                        tooltip: {
                            trigger: 'axis',
                            axisPointer: {
                                type: 'cross'
                            }
                        },
                        xAxis: {
                            type: 'value',
                            splitLine: {
                                show: false
                            },
                            splitNumber: 20
                        },
                        yAxis: {
                            type: 'value',
                            min: 2,
                            max: 5,
                            splitLine: {
                                show: false
                            }
                        },
                        series: [{
                            name: 'scatter',
                            type: 'scatter',
                            label: {
                                emphasis: {
                                    show: true
                                }
                            },
                            data: data
                         },{
                            name: 'line',
                            type: 'line',
                            showSymbol: false,
                            // smooth: true,
                            // label: {
                            //     emphasis: {
                            //         show: true,
                            //         position: 'top',
                            //         formatter: function (params) {
                            //             return params.value;
                            //         }
                            //     }
                            // },
                            data: myRegression.points
                        }]
                    });
                });
            });
        </script>
    </body>
</html>